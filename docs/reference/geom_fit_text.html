<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>A 'ggplot2' geom to fit text inside a box — geom_bar_text • ggfittext</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A 'ggplot2' geom to fit text inside a box — geom_bar_text"><meta name="description" content="geom_fit_text() shrinks, grows and wraps text to fit inside a defined
box.
geom_bar_text() is a convenience wrapper around geom_fit_text() for
labelling bar plots generated with geom_col() and geom_bar()."><meta property="og:description" content="geom_fit_text() shrinks, grows and wraps text to fit inside a defined
box.
geom_bar_text() is a convenience wrapper around geom_fit_text() for
labelling bar plots generated with geom_col() and geom_bar()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggfittext</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction-to-ggfittext.html">Introduction to 'ggfittext'</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/wilkox/ggfittext"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>A 'ggplot2' geom to fit text inside a box</h1>
      <small class="dont-index">Source: <a href="https://github.com/wilkox/ggfittext/blob/HEAD/R/geom_bar_text.R" class="external-link"><code>R/geom_bar_text.R</code></a>, <a href="https://github.com/wilkox/ggfittext/blob/HEAD/R/geom_fit_text.R" class="external-link"><code>R/geom_fit_text.R</code></a></small>
      <div class="d-none name"><code>geom_fit_text.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>geom_fit_text()</code> shrinks, grows and wraps text to fit inside a defined
box.
<code>geom_bar_text()</code> is a convenience wrapper around <code>geom_fit_text()</code> for
labelling bar plots generated with <code>geom_col()</code> and <code>geom_bar()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">geom_bar_text</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stat <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  position <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  padding.x <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"mm"</span><span class="op">)</span>,</span>
<span>  padding.y <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"mm"</span><span class="op">)</span>,</span>
<span>  min.size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  place <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outside <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  grow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  reflow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hjust <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vjust <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fullheight <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formatter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contrast <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rich <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geom_fit_text</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stat <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  position <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  padding.x <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"mm"</span><span class="op">)</span>,</span>
<span>  padding.y <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"mm"</span><span class="op">)</span>,</span>
<span>  min.size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  place <span class="op">=</span> <span class="st">"centre"</span>,</span>
<span>  outside <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  grow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  reflow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hjust <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vjust <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fullheight <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formatter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contrast <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  flip <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rich <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mapping">mapping<a class="anchor" aria-label="anchor" href="#arg-mapping"></a></dt>
<dd><p><code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">ggplot2::aes()</a></code> object as standard in 'ggplot2'. Note
that aesthetics specifying the box must be provided. See Details.</p></dd>


<dt id="arg-data-stat-position-na-rm-show-legend-inherit-aes-">data, stat, position, na.rm, show.legend, inherit.aes, ...<a class="anchor" aria-label="anchor" href="#arg-data-stat-position-na-rm-show-legend-inherit-aes-"></a></dt>
<dd><p>Standard geom
arguments as for <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">ggplot2::geom_text()</a></code>.</p></dd>


<dt id="arg-padding-x-padding-y">padding.x, padding.y<a class="anchor" aria-label="anchor" href="#arg-padding-x-padding-y"></a></dt>
<dd><p>Horizontal and vertical padding around the text,
expressed in <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">grid::unit()</a></code> objects. Both default to 1 mm.</p></dd>


<dt id="arg-min-size">min.size<a class="anchor" aria-label="anchor" href="#arg-min-size"></a></dt>
<dd><p>Minimum font size, in points. Text that would need to be
shrunk below this size to fit the box will be hidden. Defaults to 4 pt (8 pt
for <code>geom_bar_text()</code>)</p></dd>


<dt id="arg-place">place<a class="anchor" aria-label="anchor" href="#arg-place"></a></dt>
<dd><p>Where inside the box to place the text. Default is 'centre';
other options are 'topleft', 'top', 'topright', 'right', 'bottomright',
'bottom', 'bottomleft', 'left', and 'center'/'middle' which are both
synonyms for 'centre'. For <code>geom_bar_text()</code>, will be set heuristically if
not specified.</p></dd>


<dt id="arg-outside">outside<a class="anchor" aria-label="anchor" href="#arg-outside"></a></dt>
<dd><p>If <code>TRUE</code>, text placed in one of 'top', 'right', 'bottom' or
'left' that would need to be shrunk smaller than <code>min.size</code> to fit the box
will be drawn outside the box if possible. This is mostly useful for drawing
text inside bar/column geoms. Defaults to TRUE for <code>position = "identity"</code>
when using <code>geom_bar_text()</code>, otherwise FALSE.</p></dd>


<dt id="arg-grow">grow<a class="anchor" aria-label="anchor" href="#arg-grow"></a></dt>
<dd><p>If <code>TRUE</code>, text will be grown as well as shrunk to fill the box.
Defaults to FALSE.</p></dd>


<dt id="arg-reflow">reflow<a class="anchor" aria-label="anchor" href="#arg-reflow"></a></dt>
<dd><p>If <code>TRUE</code>, text will be reflowed (wrapped) to better fit the
box. Defaults to FALSE.</p></dd>


<dt id="arg-hjust-vjust">hjust, vjust<a class="anchor" aria-label="anchor" href="#arg-hjust-vjust"></a></dt>
<dd><p>Horizontal and vertical justification of the text. By
default, these are automatically set to appropriate values based on <code>place</code>.</p></dd>


<dt id="arg-fullheight">fullheight<a class="anchor" aria-label="anchor" href="#arg-fullheight"></a></dt>
<dd><p>If <code>TRUE</code>, descenders will be counted when resizing and
placing text; if <code>FALSE</code>, only the x-height and ascenders will be counted.
The main use for this option is for aligning text at the baseline (<code>FALSE</code>)
or preventing descenders from spilling outside the box (<code>TRUE</code>). By default
this is set automatically depending on <code>place</code> and <code>grow</code>.</p></dd>


<dt id="arg-width-height">width, height<a class="anchor" aria-label="anchor" href="#arg-width-height"></a></dt>
<dd><p>When using <code>x</code> and/or <code>y</code> aesthetics, these set the
width and/or height of the box. These should be either <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">grid::unit()</a></code>
objects or numeric values on the <code>x</code> and <code>y</code> scales.</p></dd>


<dt id="arg-formatter">formatter<a class="anchor" aria-label="anchor" href="#arg-formatter"></a></dt>
<dd><p>A function that will be applied to the text before it is
drawn. This is useful when using <code>geom_fit_text()</code> in context involving
interpolated variables, such as with the 'gganimate' package. <code>formatter</code>
will be applied serially to each element in the <code>label</code> column, so it does
not need to be a vectorised function.</p></dd>


<dt id="arg-contrast">contrast<a class="anchor" aria-label="anchor" href="#arg-contrast"></a></dt>
<dd><p>If <code>TRUE</code> and in combination with a <code>fill</code> aesthetic, the
colour of the text will be inverted for better contrast against dark
background fills. <code>FALSE</code> by default for <code>geom_fit_text()</code>, set
heuristically for <code>geom_bar_text()</code>.</p></dd>


<dt id="arg-rich">rich<a class="anchor" aria-label="anchor" href="#arg-rich"></a></dt>
<dd><p>If <code>TRUE</code>, text will be formatted with markdown and HTML markup
as implemented by <code><a href="https://wilkelab.org/gridtext/reference/richtext_grob.html" class="external-link">gridtext::richtext_grob()</a></code>. <code>FALSE</code> by default. Rich text
cannot be drawn in polar coordinates. Please note that rich text support is
<strong>experimental</strong> and breaking changes are likely</p></dd>


<dt id="arg-flip">flip<a class="anchor" aria-label="anchor" href="#arg-flip"></a></dt>
<dd><p>If <code>TRUE</code>, when in polar coordinates 'upside-down' text will be
flipped the 'right way up', to enhance readability.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Except where noted, <code>geom_fit_text()</code> behaves more or less like
<code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">ggplot2::geom_text()</a></code>.</p>
<p>There are three ways to define the box in which you want the text to be
drawn. The extents of the box on the x and y axes are independent, so any
combination of these methods can be used:</p><ol><li><p>If the <code>x</code> and/or <code>y</code> aesthetics are used to set the location of the box,
the width or height will be set automatically based on the number of
discrete values in <code>x</code> and/and <code>y</code>.</p></li>
<li><p>Alternatively, if <code>x</code> and/or <code>y</code> aesthetics are used, the width and/or
height of the box can be overridden with a 'width' and/or 'height' argument.
These should be <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">grid::unit()</a></code> objects; if not, they will be assumed to use
the native axis scale.</p></li>
<li><p>The boundaries of the box can be set using the aesthetics 'xmin' and
'xmax', and/or 'ymin' and 'ymax'.</p></li>
</ol><p>If the text is too big for the box, it will be shrunk to fit the box. With
<code>grow = TRUE</code>, the text will be made to fill the box completely whether that
requires shrinking or growing.</p>
<p><code>reflow = TRUE</code> will cause the text to be reflowed (wrapped) to better fit
in the box. If the text cannot be made to fit by reflowing alone, it will be
reflowed then shrunk to fit the box. Existing line breaks in the text will
be respected when reflowing.</p>
<p><code>geom_fit_text()</code> includes experimental support for drawing text in polar
coordinates (by adding <code>coord_polar()</code> to the plot), however not all
features are available when doing so.</p>
    </div>
    <div class="section level2">
    <h2 id="aesthetics">Aesthetics<a class="anchor" aria-label="anchor" href="#aesthetics"></a></h2>


<ul><li><p>label (required)</p></li>
<li><p>(xmin AND xmax) OR x (required)</p></li>
<li><p>(ymin AND ymax) OR y (required)</p></li>
<li><p>alpha</p></li>
<li><p>angle</p></li>
<li><p>colour</p></li>
<li><p>family</p></li>
<li><p>fontface</p></li>
<li><p>lineheight</p></li>
<li><p>size</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="va"><a href="https://ggplot2.tidyverse.org/reference/presidential.html" class="external-link">presidential</a></span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">start</span>, ymax <span class="op">=</span> <span class="va">end</span>,</span></span>
<span class="r-in"><span>    label <span class="op">=</span> <span class="va">name</span>, x <span class="op">=</span> <span class="va">party</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">geom_fit_text</span><span class="op">(</span>grow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="geom_fit_text-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Wilkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

